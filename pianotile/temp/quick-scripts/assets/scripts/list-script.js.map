{"version":3,"sources":["list-script.js"],"names":["cc","Class","extends","Component","properties","audio","url","AudioClip","default","_current","toScene","onDestroyMusic","director","loadScene","onLoad","loader","loadRes","onCompleted","bind","err","res","data","node","find","getComponent","setdata","audioEngine","play","start","stop"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,SAAO;AACNC,QAAKN,GAAGO,SADF;AAENC,YAAS;AAFH,GADI;AAKXC,YAAU;AALC,EAHJ;;AAWRC,QAXQ,qBAWG;AACV,OAAKC,cAAL;AACAX,KAAGY,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACA,EAdO;AAgBRC,OAhBQ,oBAgBE;AACT,MAAMR,MAAM,WAAZ;AACA,OAAKG,QAAL,GAAgB,CAAhB;AACAT,KAAGe,MAAH,CAAUC,OAAV,CAAkBV,GAAlB,EAAuB,KAAKW,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAvB;AACA,EApBO;AAsBRD,YAtBQ,uBAsBKE,GAtBL,EAsBUC,GAtBV,EAsBe;AACtB,MAAGD,GAAH,EAAQ;AACR,MAAME,OAAOD,IAAIC,IAAjB;AAAA,MACCC,OAAOtB,GAAGuB,IAAH,CAAQ,YAAR,EAAsBC,YAAtB,CAAmC,kBAAnC,CADR;AAEAF,OAAKG,OAAL,CAAaJ,KAAK,CAAL,CAAb;AACA,OAAKhB,KAAL,KAAe,KAAKI,QAAL,GAAgBT,GAAG0B,WAAH,CAAeC,IAAf,CAAoB,KAAKtB,KAAzB,EAAgC,KAAhC,EAAuC,CAAvC,CAA/B;AACA,EA5BO;AA8BRuB,MA9BQ,mBA8BC,CAER,CAhCO;AAkCRjB,eAlCQ,4BAkCU;AACjBX,KAAG0B,WAAH,CAAeG,IAAf,CAAoB,KAAKpB,QAAzB;AACA;AApCO,CAAT","file":"list-script.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\taudio: {\r\n\t\t\turl: cc.AudioClip,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\t_current: null\r\n\t},\r\n\r\n\ttoScene () {\r\n\t\tthis.onDestroyMusic()\r\n\t\tcc.director.loadScene(\"main-scene\")\r\n\t},\r\n\r\n\tonLoad () {\r\n\t\tconst url = 'song.json'\r\n\t\tthis._current = 0\r\n\t\tcc.loader.loadRes(url, this.onCompleted.bind(this));\r\n\t},\r\n\r\n\tonCompleted (err, res) {\r\n\t\tif(err) return\r\n\t\tconst data = res.data,\r\n\t\t\tnode = cc.find('data-store').getComponent('datastore-script');\r\n\t\tnode.setdata(data[0])\r\n\t\tthis.audio && (this._current = cc.audioEngine.play(this.audio, false, 1))\r\n\t},\r\n\r\n\tstart () {\r\n\r\n\t},\r\n\r\n\tonDestroyMusic () {\r\n\t\tcc.audioEngine.stop(this._current);\r\n\t}\r\n});\r\n"]}